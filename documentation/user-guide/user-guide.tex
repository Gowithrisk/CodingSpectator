\documentclass{article}
%
\usepackage{hevea}
%
% Orange section headings
%HEVEA\input{fancysection.hva}
%HEVEA\colorsections{40}
%
\usepackage{fullpage}
%
\usepackage{hyperref}
%
\usepackage{ifthen}
%
\usepackage{float}
%
\ifthenelse{\boolean{hevea}}{%
\newcommand{\todo}[1]{\textbf{#1}}%
}{\usepackage{todonotes}}
%
\ifthenelse{\boolean{hevea}}{%
\newcommand{\fig}[1]{\imgsrc{#1.png}}
}{%
\newcommand\fig[1]{\includegraphics[scale=0.49]{#1}}%
}
%
\newcommand\codspec{CodingSpectator}
%
\newcommand\warnnote[1]{\textbf{Note: }#1}
%
\newcommand\infonote[1]{\textbf{Note: }#1}
%
\newcommand\uiref[1]{\texttt{#1}}
%
% The following disables hevea advertisement from the footer of the HTML.
%HEVEA \footerfalse
%
\title{\codspec's User Guide}
%
\author{\codspec\
Team\\\href{mailto:codingspectator@cs.illinois.edu}{codingspectator@cs.illinois.edu}}
%
\begin{document}
%
\maketitle
%
\tableofcontents
%
\section{Prerequisites}

You should be using Eclipse 3.7 Indigo or Eclipse 3.6 Helios. You may check
which version you have installed by looking at the logo that appears during
startup; it should say Eclipse Indigo or Eclipse Helios.

\warnnote{Please note that the plug-in cannot be installed on an older version
of Eclipse e.g. Eclipse 3.5 Galileo. It only works with Eclipse 3.7 Indigo or
Eclipse 3.6 Helios. If you are using Eclipse Indigo or Helios and are having
problems please contact us.} 

\section{Installing \codspec}

After installing Eclipse, you need to install our plug-in by following the steps
below. The screenshots below are taken from Eclipse Indigo but should look
similar for Eclipse Helios:

\begin{enumerate}
%
\item In Eclipse, go to \uiref{Help > Install New Software...}.
%
\item Click the \uiref{Add} button on the top right corner of the dialog.
%
\item Add a new update site. Set the \uiref{Name} field to \codspec\ and the
\uiref{Location} field to
\url{http://codingspectator.cs.illinois.edu/updates/indigo} (for Indigo) or
\url{http://codingspectator.cs.illinois.edu/updates/helios} (for Helios) as
shown in Figure~\ref{FigAddSite}. Then, click \uiref{OK}.

\begin{figure}[H]
%
\centering
%
{\fig{figs/add_site}}
%
\caption{\label{FigAddSite}Add the update site of \codspec.}
%
\end{figure}

\item After adding the update site of \codspec, select the \codspec\ features as
shown in Figure~\ref{FigSelectFeatures}.

\begin{figure}[H]
%
\centering
%
\fig{figs/select_features}
%
\caption{\label{FigSelectFeatures}Select all the features of \codspec\ to
install.}
%
\end{figure}

\item Click \uiref{Next} to proceed.

\item You will now be presented with the \uiref{Install} dialog window listing
the items that will be installed. You may examine this list if you wish. Click
\uiref{Next} to proceed.

\item You will now be presented with the \uiref{Review Licenses} dialog window
detailing the licenses of the plug-ins that will be installed. Take a moment to
review them, and if you agree, proceed by clicking \uiref{Finish}.

\item Eclipse should open the dialog in Figure~\ref{FigCertificate} asking you
to confirm that you accept our certificate. In the \emph{Do you trust these
certificates}, please select the checkbox. Click \uiref{OK} to continue.

% Should we box this up to make it more promiment?
\warnnote{You \textbf{need} to select check box before clicking the \uiref{OK}
button to accept our certificate. If you click the \uiref{OK} button without
selecting the check box on the dialog, Eclipse terminates the installation of
\codspec\ silently.}

\begin{figure}[H]
%
\centering
%
\fig{figs/certificate}
%
\caption{\label{FigCertificate}The dialog that asks if you trust the certificate
of \codspec.}
%
\end{figure}

\item If Eclipse cannot retrieve the installation files of \codspec, it will
open a dialog such as the one shown in Figure~\ref{FigUnsignedWarning} warning
you that you are installing unsigned content. If you see this dialog, it means
that Eclipse has failed to install \codspec\ correctly. Click \uiref{OK} to
dismiss the dialog. Then, uninstall \codspec\ (See
Section~\ref{SecUninstallation}), and try to install it again. If the problem
persists, please contact us.

\begin{figure}[H]
%
\centering
%
\fig{figs/warning}
%
\caption{\label{FigUnsignedWarning}The dialog that warns about unsigned content
implies that Eclipse has failed to install \codspec.}
%
\end{figure}

\item A dialog will pop-up asking you to restart Eclipse after the software
updates. Click \uiref{Restart Now}. Please do \textbf{not} use the other options
on that dialog.

\item After restarting, you can check the \uiref{About Eclipse} dialog to see if
\codspec has been installed. Click on \uiref{Eclipse > About Eclipse...} on OS
X or \uiref{Help > About Eclipse...} on Linux and Windows to display the dialog.
You should see our \codspec logo in that dialog as shown in Figure~\ref{About}.

\begin{figure}[H]
%
\centering
%
\fig{figs/about}
%
\caption{\label{About}Upon successful installation, \codspec\ displays its icon in the About dialog.}
%
\end{figure}

%
\end{enumerate}
%
\section{Using \codspec}
%
\codspec is a non-intrusive extension that monitors your coding activities
inside Eclipse. Specifically, it collects data about your use of the Java
development tools in Eclipse. \codspec will run in the background and will not
interfere with your coding routines except for the occasional dialog asking you
to upload your data. Your data will be uploaded to a secure server at the
University of Illinois that only the researchers have access to.

\infonote{Our plug-in will monitor for programming behavior in \textbf{all}
workspaces that you create using that particular Eclipse instance. As detailed
on the consent form, the plug-in will record certain code development activities
that are performed in the workspace and store that information. In addition, the
plug-in might collect some code snippets to provide more context to the
activities that are being performed.

If you have sensitive data that you do not wish the plug-in to collect, you
would need to install two instances of Eclipse: one with our plug-in and one
\textbf{without} our plug-in. To help you easily identify a workspace with
\codspec\ installed, we have also placed an icon in the status line of Eclipse
as shown Figure~\ref{Status}. If you wish, you may disable the icon by following
the instructions in Section~\ref{sec:disabling_icon}.

Please feel free to talk to us if you have any questions and concerns about your
privacy. We can work our a suitable compromise.}

\begin{figure}[H]
%
\centering
%
\fig{figs/status}
%
\caption{\label{Status}An icon appears on the status line reminding users that
CodingSpectator is installed.}
%
\end{figure}
%
\section{Automatic upload of data}
%
\textbf{Once a day (at most)}, during the initial startup of Eclipse, you might
be presented with the dialog box shown in Figure~\ref{FigLogin} asking you to
upload your data. Please provide your \codspec\ user name and password when
prompted. You should have received your username and password when you signed up
for our study.

\begin{figure}[H]
%
\centering
%
\fig{figs/login}
%
\caption{\label{FigLogin}The dialog that asks your \codspec\ account information
in order to upload your data to \codspec\ servers.}
%
\end{figure}

If you provide the wrong user name/password, our plug-in will prompt you again
with the dialog in Figure~\ref{FigPrompt}:

\begin{figure}[H]
%
\centering
%
\fig{figs/prompt}
%
\caption{\label{FigPrompt}This dialog shows up when the user name and password
that you have entered are wrong.}
%
\end{figure}

If you forget your user name or password, please contact us to send them to you.
You may also change your password by visiting
\url{http://codingspectator.cs.illinois.edu/Accounts/}.
%
\section{Saving your \codspec\ password}
%
If you wish Eclipse to remember your \codspec\ password, click on the
\uiref{Save password (could trigger secure storage)} check box on the
authentication dialog in Figure~\ref{FigPrompt}. This will make Eclipse store
your username and password using its underlying
\href{http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.platform.doc.isv/guide/secure_storage_dev.htm}{Secure
Storage mechanism}. If you decide to save your password, it will proceed to ask
you to create a master password. Please follow the instructions on the screen as
they depend on the operating system.

After you save your password, on subsequent uploads of \codspec, you will no
longer see the dialog in Figure~\ref{FigLogin} but one of the dialogs in
Figure~\ref{FigSecureStoragePrompt} depending on your operating system.

\begin{figure}[H]
%
\centering
%
\fig{figs/keychain}
%
\fig{figs/windows}
%
\fig{figs/LinuxMasterPasswordDialog}
%
\caption{\label{FigSecureStoragePrompt}If you save your \codspec\ account
information in Eclipse, you will see one of these dialogs at your future
attempts to log into \codspec.}
%
\end{figure}

If you save your \codspec\ password on Linux, Eclipse will still prompt you for
your master password before every data upload. Please enter the \textbf{master
password} that you have created (\textbf{not} your \codspec\ password) when
prompted by the Secure Storage dialog box. On Mac OS X and Windows, Eclipse uses
the system-wide keyring and does not ask you for a master password. However, if
you are using \textbf{Eclipse Helios on Windows 64 bits}, then you would need to
perform the following steps to prevent Eclipse from prompting for your master
password.

\begin{enumerate}
%
\item If your Eclipse is running, shut it down. 
%
\item  Download
\href{https://bugs.eclipse.org/bugs/attachment.cgi?id=189330}{the deployable
form of Windows 64 bits secure storage fragment} for Eclipse Helios.
%
\item Copy the downloaded JAR file into the \uiref{dropins} folder of your
Eclipse Helios installation. To check that Eclipse has picked up the JAR file,
go to \uiref{Window > Preferences}, type \uiref{Secure Storage} in the search
box, and select \uiref{General > Security > Secure Storage} from the search
results. Eclipse must now list a new master password provider called
\uiref{Windows Integration (64 bits)} as shown in
Figure~\ref{FigMasterPasswordProviders}.
%
\begin{figure}[H]
%
\centering
%
\fig{figs/PreferencesAfterCopyingJarToDropinsFolder}
%
\caption{\label{FigMasterPasswordProviders}If you save your \codspec\ password
and Eclipse has a master password provider that integrates with your operating
system, Eclipse won't prompt you for a master password before your data
uploads.}
%
\end{figure}
%
\item Start Eclipse.
%
\item If you have already stored \codspec\ password before installing the master
password provider that integrates with Windows (and thus, were prompted for the
master password every time you uploaded \codspec\ data), you will need to delete
the corresponding entry in order to use the installed master password provider
for Windows. Go to \uiref{Window > Preferences}, type \uiref{Secure Storage} in
the search box, and select \uiref{General > Security > Secure Storage} from the
search results. Open the \uiref{Contents} tab and expand the \uiref{[Default
Secure Storage]} item. If you have already saved your \codspec\ password, you
should see an item for \codspec\ as shown in
Figure~\ref{FigDefaultSecureStorageOption}. Click on the \codspec\ item, then
click the \uiref{Delete} button. Next, click the \uiref{Yes} button in the
confirmation dialog box.
%
\begin{figure}[H]
%
\centering
%
\fig{figs/DefaultSecureStorageOption}
%
\caption{\label{FigDefaultSecureStorageOption}If Eclipse has already saved your
\codspec\ password you should delete the secure storage of \codspec\ in order to
use the new master password provider that integrates with your operating
system.}
%
\end{figure}
%
\end{enumerate}
%
\section{Manual upload of data}
%
You may also trigger the data upload manually. We provide this facility because,
occasionally, it might not be convenient to upload the data during the startup
of Eclipse.

To invoke the manual uploading of your data, you can go to \uiref{Window >
Preferences} (on Linux and Windows) or \uiref{Eclipse > Preferences...} (on Mac
OS X). Click on the \uiref{\codspec > Display} section shown in
Figure~\ref{FigUploadPreferences}.

\begin{figure}[H]
%
\centering
%
\fig{figs/preferences}
%
\caption{\label{FigUploadPreferences}\codspec\ provides a preference page for
manually updating your data.}
%
\end{figure}

In that particular preference pane, you will see:

\begin{enumerate}
%
\item the date and time of your last upload and
%
\item an \uiref{Upload Now} button that you can invoke to upload your data.
%
\end{enumerate}

\section{Toggle \codspec\ Status Line Icon} % (fold)
\label{sec:disabling_icon}

To hide or show the \codspec\ status line icon, you can go to \uiref{Window >
Preferences} (on Linux and Windows) or \uiref{Eclipse > Preferences...} (on Mac
OS X). Click on the \uiref{\codspec > Display} section shown in
Figure~\ref{FigStatusPreferences}. Then check or uncheck the \uiref{Show
\codspec\ in the status line} checkbox.

\warnnote{Toggling the display of the icon does \textbf{not} disable \codspec\
--- it is still actively running and collecting data in the background. There is
currently no way to turn off \codspec\ except by uninstalling it (see
Section~\ref{SecUninstallation}).}

\begin{figure}[H]
%
\centering
%
\fig{figs/status_preference}
%
\caption{\label{FigStatusPreferences}\codspec\ provides a preference for manually updating your data.}
%
\end{figure}


% section disabling_codspec status_line_icon (end)
%
\section{Updating \codspec}

During this research study, we might require you to update \codspec. Should this
become necessary, we will contact you via e-mail to upgrade the plug-in. This is
a simple process that you can perform by going to \uiref{Help > Check for
Updates} (See Figure~\ref{FigUpdate}) in the Eclipse application.

\begin{figure}[H]
%
\centering
%
\fig{figs/updates}
%
\caption{\label{FigUpdate}Update \codspec.}
%
\end{figure}
%
\section{\label{SecUninstallation}Uninstalling \codspec}

\begin{enumerate}
%
\item You can uninstall our plug-in through the \uiref{About Eclipse...} dialog.
You can invoke the dialog shown in Figure~\ref{FigUninstallStep1} by going to
\uiref{Eclipse > About Eclipse...} on Mac OS X or through \uiref{Help > About
Eclipse...} on Linux and Windows.

\begin{figure}[H]
%
\centering
%
\fig{figs/uninstall_step1}
%
\caption{\label{FigUninstallStep1}The ``About Eclipse'' dialog.}
%
\end{figure}
%
\item In dialog shown in Figure~\ref{FigUninstallStep1}, click on the
\uiref{Installation Details} button. As a result, the dialog shown in
Figure~\ref{FigUninstallStep2} should appear. The list of plug-ins installed
might be different from the image below depending on what other plug-ins you
have installed.

\begin{figure}[H]
%
\centering
%
\fig{figs/uninstall_step2}
%
\caption{\label{FigUninstallStep2}List of the software installed on Eclipse.}
%
\end{figure}
%
\item Click on \uiref{\codspec} from the list to select it. Then click on the
\uiref{Uninstall...} button.
%
\item Eclipse will calculate the dependencies and check the validity of
uninstallation. After a while, it will show the dialog shown in
Figure~\ref{FigUninstallStep3}.

\begin{figure}[H]
%
\centering
%
\fig{figs/uninstall_step3}
%
\caption{\label{FigUninstallStep3}Review and confirm the uninstallation of
\codspec.}
%
\end{figure}
%
\item Click \uiref{Finish}
%
\item Eclipse will proceed to uninstall \codspec. After a while, the dialog in
Figure~\ref{FigUninstallStep4} will pop-up asking if you would like to restart
Eclipse for the changes to take effect. Click \uiref{Restart Now}.

\begin{figure}[H]
%
\centering
%
\fig{figs/uninstall_step4}
%
\caption{\label{FigUninstallStep4}Restart Eclipse to complete the installation
of \codspec.}
%
\end{figure}
%
\end{enumerate}
%
\end{document}

